Middle step between the basic version and the final unfolded + pipelined version, for this version only the source files are provided sinced it was needed only for the simulations and verify the functionality.